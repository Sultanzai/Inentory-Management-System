<!DOCTYPE html>
<html>
  <head>
    <meta name="csrf-token" content="{{ csrf_token() }}">
    <link rel="stylesheet" href="{{asset ('css/globals.css') }}" />
    <link rel="stylesheet" href="{{asset ('css/styleguide.css') }}" />
    <link rel="stylesheet" href="{{asset ('css/customer-style.css') }}" />
    <link rel="stylesheet" href="{{asset ('css/MainStyle.css') }}">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>
  <body>
    <div class="dashboard">
      <div class="div">
        <div class="segmented-control">
          <a href="Customer-page.html"><button class="btn2" >Customers</button></a>
          <a href="Order-page.html"><button class="btn2" >Orders</button></a>
          <a href="Payment-page.html"><button class="btn2" >Payments</button></a>
          <a href="Expanses-page.html"><button class="btn2" >Expanses</button></a>
        </div>
        <div class="navigation">
          <div class="avatar">
            <div class="rectangle-wrapper"><img class="rectangle" src="img/rectangle-1.png" /></div>
            <img class="img" src="img/chevron-down.svg" />
          </div>
          <img class="buttons" src="img/buttons.svg" />
          <a href="/Dashboard/Dashboard.html"><div class="text-wrapper-2">Dashboard </div></a>
        </div>
        <div class="list">
          <div class="text-wrapper-4">Customer</div>
          <div class="search">
            <img class="img" src="img/search.svg" /> <input class="label" placeholder="Search..." type="text" />
          </div>
          <div class="list-2">
            <div class="navbar">
              <div class="text-wrapper-5">Number</div>
              <div class="text-wrapper-6">Name</div>
              <div class="text-wrapper-7">Address</div>
              <div class="text-wrapper-8">Contact</div>
              <div class="text-wrapper-9">Acconut</div>
            </div>
            <div class="task">
              <div class="text-wrapper-10">1</div>
              <div class="text-wrapper-11">Ahmad</div>
              <p class="p">Bronox New York, APt 15Central park</p>
              <div class="text-wrapper-12">+1-0256-55-596</div>
              <div class="pill">
                <div class="tag"><div class="label-2">$1000</div></div>
              </div>
            </div>
            <div class="task">
              <div class="text-wrapper-10">1</div>
              <div class="text-wrapper-11">Ahmad</div>
              <p class="p">Bronox New York, APt 15Central park</p>
              <div class="text-wrapper-12">+1-0256-55-596</div>
              <div class="pill">
                <div class="tag"><div class="label-2">$1000</div></div>
              </div>
            </div>
            <div class="task">
              <div class="text-wrapper-10">1</div>
              <div class="text-wrapper-11">Ahmad</div>
              <p class="p">Bronox New York, APt 15Central park</p>
              <div class="text-wrapper-12">+1-0256-55-596</div>
              <div class="pill">
                <div class="tag"><div class="label-2">$1000</div></div>
              </div>
            </div>
            <div class="task">
              <div class="text-wrapper-10">1</div>
              <div class="text-wrapper-11">Ahmad</div>
              <p class="p">Bronox New York, APt 15Central park</p>
              <div class="text-wrapper-12">+1-0256-55-596</div>
              <div class="pill">
                <div class="tag"><div class="label-2">$1000</div></div>
              </div>
            </div>
            <div class="task">
              <div class="text-wrapper-10">1</div>
              <div class="text-wrapper-11">Ahmad</div>
              <p class="p">Bronox New York, APt 15Central park</p>
              <div class="text-wrapper-12">+1-0256-55-596</div>
              <div class="pill">
                <div class="tag"><div class="label-2">$1000</div></div>
              </div>
            </div>
            <div class="task">
              <div class="text-wrapper-10">1</div>
              <div class="text-wrapper-11">Ahmad</div>
              <p class="p">Bronox New York, APt 15Central park</p>
              <div class="text-wrapper-12">+1-0256-55-596</div>
              <div class="pill">
                <div class="tag"><div class="label-2">$1000</div></div>
              </div>
            </div>
            <div class="task">
              <div class="text-wrapper-10">1</div>
              <div class="text-wrapper-11">Ahmad</div>
              <p class="p">Bronox New York, APt 15Central park</p>
              <div class="text-wrapper-12">+1-0256-55-596</div>
              <div class="pill">
                <div class="tag"><div class="label-2">$1000</div></div>
              </div>
            </div>
            <div class="task">
              <div class="text-wrapper-10">1</div>
              <div class="text-wrapper-11">Ahmad</div>
              <p class="p">Bronox New York, APt 15Central park</p>
              <div class="text-wrapper-12">+1-0256-55-596</div>
              <div class="pill">
                <div class="tag"><div class="label-2">$1000</div></div>
              </div>
            </div>
            <div class="task">
              <div class="text-wrapper-10">1</div>
              <div class="text-wrapper-11">Ahmad</div>
              <p class="p">Bronox New York, APt 15Central park</p>
              <div class="text-wrapper-12">+1-0256-55-596</div>
              <div class="pill">
                <div class="tag"><div class="label-2">$1000</div></div>
              </div>
            </div>
            <div class="task">
              <div class="text-wrapper-10">1</div>
              <div class="text-wrapper-11">Ahmad</div>
              <p class="p">Bronox New York, APt 15Central park</p>
              <div class="text-wrapper-12">+1-0256-55-596</div>
              <div class="pill">
                <div class="tag"><div class="label-2">$1000</div></div>
              </div>
            </div>
            <div class="task">
              <div class="text-wrapper-10">1</div>
              <div class="text-wrapper-11">Ahmad</div>
              <p class="p">Bronox New York, APt 15Central park</p>
              <div class="text-wrapper-12">+1-0256-55-596</div>
              <div class="pill">
                <div class="tag"><div class="label-2">$1000</div></div>
              </div>
            </div>
            <div class="task">
              <div class="text-wrapper-10">1</div>
              <div class="text-wrapper-11">Ahmad</div>
              <p class="p">Bronox New York, APt 15Central park</p>
              <div class="text-wrapper-12">+1-0256-55-596</div>
              <div class="pill">
                <div class="tag"><div class="label-2">$1000</div></div>
              </div>
            </div>
            <div class="task">
              <div class="text-wrapper-10">1</div>
              <div class="text-wrapper-11">Ahmad</div>
              <p class="p">Bronox New York, APt 15Central park</p>
              <div class="text-wrapper-12">+1-0256-55-596</div>
              <div class="pill">
                <div class="tag"><div class="label-2">$1000</div></div>
              </div>
            </div>
            <div class="task">
              <div class="text-wrapper-10">1</div>
              <div class="text-wrapper-11">Ahmad</div>
              <p class="p">Bronox New York, APt 15Central park</p>
              <div class="text-wrapper-12">+1-0256-55-596</div>
              <div class="pill">
                <div class="tag"><div class="label-2">$1000</div></div>
              </div>
            </div>
            <div class="task">
              <div class="text-wrapper-10">1</div>
              <div class="text-wrapper-11">Ahmad</div>
              <p class="p">Bronox New York, APt 15Central park</p>
              <div class="text-wrapper-12">+1-0256-55-596</div>
              <div class="pill">
                <div class="tag"><div class="label-2">$1000</div></div>
              </div>
            </div>
            <div class="task-2">
              <div class="text-wrapper-10">1</div>
              <div class="text-wrapper-11">Ahmad</div>
              <p class="p">Bronox New York, APt 15Central park</p>
              <div class="text-wrapper-12">+1-0256-55-596</div>
              <div class="pill">
                <div class="tag"><div class="label-2">$1000</div></div>
              </div>
            </div>
            <div class="task-3">
              <div class="text-wrapper-10">1</div>
              <div class="text-wrapper-11">Ahmad</div>
              <p class="p">Bronox New York, APt 15Central park</p>
              <div class="text-wrapper-12">+1-0256-55-596</div>
              <div class="pill">
                <div class="tag"><div class="label-2">$1000</div></div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="element-button-2"><button class="mybtn" id="openFormBtn">Add New Customer</button></div>
        
        <!-- Pop Up form -->
        <div class="popup" id="popupForm">
          <div class="popup-content">
              <button class="close-btn">&times;</button>
              <h2>Add New Customer</h2>
              
              <form id="customerForm">
                @csrf
                <input type="text" id="Name" name="Name" placeholder="Name" required>
                <input type="text" id="Phone" name="Phone" placeholder="Phone" required>
                <input type="text" id="Address" name="Address" placeholder="Address" required>
                <button type="submit" class="submit-btn">Submit</button>
              </form>
              
          </div>
      </div>
      </div>
    </div>
    
<script>
  $(document).ready(function() {
    // Open the form
    $("#openFormBtn").click(function() {
        $("#popupForm").css("display", "block");
    });

    // Close the form
    $(".close-btn").click(function() {
        $("#popupForm").css("display", "none");
    });

    // Submit the form via AJAX
    $("#customerForm").submit(function(e) {
        e.preventDefault();

        $.ajax({
            url: '/customers',
            type: 'POST',
            headers: {
                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
            },
            data: {
                Name: $("#Name").val(),
                Address: $("#Address").val(),
                Phone: $("#Phone").val()
            },
            success: function(response) {
                alert("Customer created successfully!");
                $("#popupForm").css("display", "none");
                $("#customerForm")[0].reset();
            },
            error: function(response) {
                alert("An error occurred while creating the customer.");
                console.log(response.responseJSON.errors); // Log validation errors
            }
        });
    });
});

</script>

  </body>
</html>
